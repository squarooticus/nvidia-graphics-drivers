From f0266c773d27d78a11957c061adf4fbbd6c07133 Mon Sep 17 00:00:00 2001
From: Andreas Beckmann <anbe@debian.org>
Date: Wed, 22 Sep 2021 08:49:14 +0200
Subject: [PATCH] backport warning on unknown conftests

for easier backporting of future conftest.sh changes
---
 conftest.sh | 12 ++++++++++++
 1 file changed, 12 insertions(+)

diff --git a/conftest.sh b/conftest.sh
index 3e9b066..64861c7 100755
--- a/conftest.sh
+++ b/conftest.sh
@@ -4090,6 +4090,18 @@ compile_test() {
 
             compile_check_conftest "$CODE" "NV_DRM_DEVICE_HAS_PDEV" "" "types"
         ;;
+
+        # When adding a new conftest entry, please use the correct format for
+        # specifying the relevant upstream Linux kernel commit.
+        #
+        # <function> was added|removed|etc by commit <sha> ("<commit message")
+        # in <kernel-version> (<commit date>).
+
+        *)
+            # Unknown test name given
+            echo "Error: unknown conftest '$1' requested" >&2
+            exit 0 #1
+        ;;
     esac
 }
 
-- 
2.20.1

